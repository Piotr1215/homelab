---
apiVersion: longhorn.io/v1beta2
kind: RecurringJob
metadata:
  name: backup-daily
  namespace: longhorn-system
spec:
  # Cron schedule: Daily at 2 AM
  cron: "0 2 * * *"
  task: "backup"
  # Keep last 7 daily backups
  retain: 7
  # Run on all volumes by default
  concurrency: 2
  # Add label to identify backup job
  labels:
    recurring-job: backup-daily
---
apiVersion: longhorn.io/v1beta2
kind: RecurringJob
metadata:
  name: backup-weekly
  namespace: longhorn-system
spec:
  # Cron schedule: Weekly on Sunday at 3 AM
  cron: "0 3 * * 0"
  task: "backup"
  # Keep last 4 weekly backups
  retain: 4
  concurrency: 2
  labels:
    recurring-job: backup-weekly
